<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invoice</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Invoice</h1>
    <div>
        <h2>Company Information</h2>
        <p><strong>Name:</strong> {{ company.name }}</p>
        <p><strong>NIF:</strong> {{ company.nif }}</p>
        <p><strong>VAT Subject:</strong> {{ 'Yes' if company.vat_subject else 'No' }}</p>
    </div>
    <div>
        <h2>Customer Information</h2>
        <p><strong>Name:</strong> {{ facture.customer_name }}</p>
        <p><strong>Address:</strong> {{ facture.customer_address }}</p>
        <p><strong>NIF:</strong> {{ facture.customer_nif }}</p>
    </div>
    <div>
        <h2>Invoice Details</h2>
        <p><strong>Invoice Number:</strong> {{ facture.invoice_number }}</p>
        <p><strong>Date:</strong> {{ facture.date.strftime('%Y-%m-%d') }}</p>
        <p><strong>Payment Method:</strong> {{ facture.payment_method }}</p>
    </div>
    <div>
        <h2>Items</h2>
        <table>
            <thead>
                <tr>
                    <th>Product Code</th>
                    <th>Description</th>
                    <th>Quantity</th>
                    <th>Unit Price</th>
                    <th>Total Price</th>
                </tr>
            </thead>
            <tbody>
                {% for item in facture.items %}
                <tr>
                    <td>{{ item.product_code }}</td>
                    <td>{{ item.description }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.unit_price }}</td>
                    <td>{{ item.total_price }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div>
        <h2>Total</h2>
        <p><strong>Total HT:</strong> {{ facture.total_ht }}</p>
        <p><strong>Tax Rate:</strong> {{ facture.tax_rate }}</p>
        <p><strong>Total TTC:</strong> {{ facture.total_ttc }}</p>
    </div>
    <button onclick="window.print()">Print Invoice</button>
</body>
</html>
